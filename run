#! usr/bin/env php
<?php

namespace Behavioral\Memento;

require_once 'vendor/autoload.php';

$originator = new Originator();
$caretaker = new Caretaker();

try {
    $originator->setState('on');
    $caretaker->setMemento(new Memento($originator));
    echo $originator->getState()."\n";

    $originator->setState('off');
    echo $originator->getState()."\n";

    $originator->setState($caretaker->getMemento()->getState());
    echo "Restoring state...\n".$originator->getState()."\n";
} catch (\Throwable $th) {
    echo 'Caught exception: ', $th->getMessage(), "\n";
}
